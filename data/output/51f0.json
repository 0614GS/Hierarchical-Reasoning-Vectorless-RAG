{
  "doc_id": "51f0",
  "doc_name": "harness",
  "summary": "Describes the core components and capabilities of the agent harness, including file system access, task delegation, and conversation history management.",
  "keywords": [
    "agent harness",
    "file system",
    "task delegation",
    "conversation history",
    "subagents",
    "tool results",
    "pluggable storage",
    "human-in-the-loop",
    "prompt caching"
  ],
  "structure": [
    {
      "node_id": "57ceec",
      "path": "harness > Agent harness capabilities",
      "title": "Agent harness capabilities",
      "keywords": [
        "agent harness",
        "file system",
        "task delegation",
        "subagents",
        "conversation history",
        "tool results",
        "pluggable storage",
        "human-in-the-loop",
        "prompt caching"
      ],
      "summary": "Describes the core components and capabilities of the agent harness, including file system access, task delegation, and conversation history management.",
      "nodes": [
        {
          "node_id": "40a473",
          "path": "harness > Agent harness capabilities > File system access",
          "title": "File system access",
          "keywords": [
            "file system",
            "ls",
            "read_file",
            "write_file",
            "edit_file",
            "glob",
            "grep"
          ],
          "summary": "The agent harness provides six tools for file system operations, including listing, reading, writing, editing, globbing, and searching files.",
          "nodes": []
        },
        {
          "node_id": "5530f1",
          "path": "harness > Agent harness capabilities > Large tool result eviction",
          "title": "Large tool result eviction",
          "keywords": [
            "tool results",
            "file system",
            "token threshold",
            "context window",
            "monitoring",
            "file reference"
          ],
          "summary": "The agent harness automatically manages large tool results by dumping them to the file system to avoid context window saturation.",
          "nodes": []
        },
        {
          "node_id": "84597a",
          "path": "harness > Agent harness capabilities > Pluggable storage backends",
          "title": "Pluggable storage backends",
          "keywords": [
            "Webscrape",
            "In-memory",
            "Persistence",
            "VirtualMode",
            "SecurityFeatures",
            "StateBackend",
            "FilesystemBackend",
            "StoreBackend",
            "CompositeBackend"
          ],
          "summary": "Describes pluggable storage backends in the agent harness, including StateBackend, FilesystemBackend, StoreBackend, and CompositeBackend, each tailored for specific use cases.",
          "nodes": []
        },
        {
          "node_id": "5b4f75",
          "path": "harness > Agent harness capabilities > Task delegation (subagents)",
          "title": "Task delegation (subagents)",
          "keywords": [
            "subagents",
            "task delegation",
            "context isolation",
            "parallel execution",
            "specialization",
            "token efficiency",
            "task tool",
            "stateless",
            "customization"
          ],
          "summary": "Describes the capability of main agent to delegate tasks to ephemeral subagents for isolated, parallel, and specialized execution.",
          "nodes": []
        },
        {
          "node_id": "770920",
          "path": "harness > Agent harness capabilities > Conversation history summarization",
          "title": "Conversation history summarization",
          "keywords": [
            "Conversation history",
            "Token usage",
            "Compression",
            "Context limits",
            "System message"
          ],
          "summary": "Automatically compresses old conversation history when token usage exceeds 170,000, keeping recent messages intact.",
          "nodes": []
        },
        {
          "node_id": "b561ce",
          "path": "harness > Agent harness capabilities > Dangling tool call repair",
          "title": "Dangling tool call repair",
          "keywords": [
            "message history",
            "tool call",
            "AIMessage",
            "ToolMessage",
            "synthetic response",
            "conversation coherence"
          ],
          "summary": "Describes how the harness fixes message history when tool calls are interrupted, creating synthetic responses to maintain coherence.",
          "nodes": []
        },
        {
          "node_id": "8f1646",
          "path": "harness > Agent harness capabilities > To-do list tracking",
          "title": "To-do list tracking",
          "keywords": [
            "write_todos",
            "task list",
            "statuses",
            "agent state",
            "multi-step work",
            "long-running tasks"
          ],
          "summary": "The harness offers a `write_todos` tool for agents to manage a structured task list with statuses, aiding in organizing complex tasks.",
          "nodes": []
        },
        {
          "node_id": "5da8c7",
          "path": "harness > Agent harness capabilities > Human-in-the-Loop",
          "title": "Human-in-the-Loop",
          "keywords": [
            "Human-in-the-Loop",
            "Agent Execution",
            "Tool Calls",
            "Approval",
            "Modification",
            "Safety Gates"
          ],
          "summary": "Describes how the agent execution pauses for human approval or modification at specified tool calls.",
          "nodes": []
        },
        {
          "node_id": "41cb9a",
          "path": "harness > Agent harness capabilities > Prompt caching (Anthropic)",
          "title": "Prompt caching (Anthropic)",
          "keywords": [
            "Prompt caching",
            "Anthropic",
            "Token processing",
            "Latency reduction",
            "Cost reduction",
            "System prompts"
          ],
          "summary": "Enables Anthropic's prompt caching to reduce redundant token processing, enhancing speed and reducing costs.",
          "nodes": []
        }
      ]
    }
  ]
}