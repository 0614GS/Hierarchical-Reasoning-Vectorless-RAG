{"node_id": "0e9eee", "title": "Long-term memory", "path": "long-term-memory > Long-term memory", "content": "> Learn how to extend deep agents with persistent memory across threads\n\nDeep agents come with a local filesystem to offload memory. By default, this filesystem is stored in agent state and is **transient to a single thread**â€”files are lost when the conversation ends.\n\nYou can extend deep agents with **long-term memory** by using a **CompositeBackend** that routes specific paths to persistent storage. This enables hybrid storage where some files persist across threads while others remain ephemeral.\n\n```mermaid  theme={null}\ngraph LR\n    Agent[Deep Agent] --> Router{Path Router}\n\n    Router --> |/memories/*| Store[Store Backend]\n    Router --> |other| State[State Backend]\n\n    Store --> Persist[(Persistent<br/>across threads)]\n    State --> Ephemeral[(Ephemeral<br/>single thread)]\n```", "summary": "Explains extending deep agents with long-term memory using CompositeBackend for hybrid storage across threads.", "keywords": ["CompositeBackend", "long-term memory", "persistent storage", "ephemeral storage", "Cross-thread persistence", "BaseStore", "InMemoryStore", "PostgresStore"]}