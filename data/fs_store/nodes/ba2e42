{"node_id": "ba2e42", "title": "PostgresStore (production)", "path": "long-term-memory > Long-term memory > Store implementations > PostgresStore (production)", "content": "For production, use a persistent store:\n\n```python  theme={null}\nfrom langgraph.store.postgres import PostgresStore\nimport os\n\n# Use PostgresStore.from_conn_string as a context manager\nstore_ctx = PostgresStore.from_conn_string(os.environ[\"DATABASE_URL\"])\nstore = store_ctx.__enter__()\nstore.setup()\n\nagent = create_deep_agent(\n    store=store,\n    backend=lambda rt: CompositeBackend(\n        default=StateBackend(rt),\n        routes={\"/memories/\": StoreBackend(rt)}\n    )\n)\n```", "summary": "Describes how to use PostgresStore in a production environment with a persistent database connection.", "keywords": ["PostgresStore", "production", "persistent store", "DATABASE_URL", "context manager", "setup", "create_deep_agent", "CompositeBackend", "StateBackend", "StoreBackend"]}