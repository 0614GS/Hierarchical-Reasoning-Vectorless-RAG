{"node_id": "a8200d", "title": "To-do list middleware", "path": "middleware > Deep Agents Middleware > To-do list middleware", "content": "Planning is integral to solving complex problems. If you've used Claude Code recently, you'll notice how it writes out a to-do list before tackling complex, multi-part tasks. You'll also notice how it can adapt and update this to-do list on the fly as more information comes in.\n\n`TodoListMiddleware` provides your agent with a tool specifically for updating this to-do list. Before and while it executes a multi-part task, the agent is prompted to use the `write_todos` tool to keep track of what it's doing and what still needs to be done.\n\n```python  theme={null}\nfrom langchain.agents import create_agent\nfrom langchain.agents.middleware import TodoListMiddleware\n\n# TodoListMiddleware is included by default in create_deep_agent\n# You can customize it if building a custom agent\nagent = create_agent(\n    model=\"claude-sonnet-4-5-20250929\",\n    # Custom planning instructions can be added via middleware\n    middleware=[\n        TodoListMiddleware(\n            system_prompt=\"Use the write_todos tool to...\"  # Optional: Custom addition to the system prompt\n        ),\n    ],\n)\n```", "summary": "Introduces the TodoListMiddleware for managing to-do lists in multi-part tasks, enhancing planning and adaptability.", "keywords": ["TodoListMiddleware", "multi-part tasks", "write_todos", "planning", "adaptability", "langchain.agents", "create_agent"]}