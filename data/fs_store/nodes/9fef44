{"node_id": "9fef44", "title": "Path routing", "path": "long-term-memory > Long-term memory > How it works > Path routing", "content": "The `CompositeBackend` routes file operations based on path prefixes:\n\n* Files with paths starting with `/memories/` are stored in the Store (persistent)\n* Files without this prefix remain in transient state\n* All filesystem tools (`ls`, `read_file`, `write_file`, `edit_file`) work with both\n\n```python  theme={null}\n# Transient file (lost after thread ends)\nagent.invoke({\n    \"messages\": [{\"role\": \"user\", \"content\": \"Write draft to /draft.txt\"}]\n})\n\n# Persistent file (survives across threads)\nagent.invoke({\n    \"messages\": [{\"role\": \"user\", \"content\": \"Save final report to /memories/report.txt\"}]\n})\n```", "summary": "Describes how the `CompositeBackend` routes file operations based on path prefixes to manage transient and persistent storage.", "keywords": ["CompositeBackend", "path routing", "file operations", "transient state", "persistent storage", "filesystem tools", "memories prefix"]}